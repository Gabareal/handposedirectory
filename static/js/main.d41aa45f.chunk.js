(this.webpackJsonphandpose=this.webpackJsonphandpose||[]).push([[0],{272:function(e,n,r){e.exports=r(298)},277:function(e,n,r){},283:function(e,n){},284:function(e,n){},292:function(e,n){},295:function(e,n){},296:function(e,n){},297:function(e,n,r){},298:function(e,n,r){"use strict";r.r(n);var t=r(36),a=r.n(t),l=r(229),o=r.n(l),c=(r(277),r(5)),i=r.n(c),s=r(13),u=r(8),d=r(187),g=r(249),f=r(37),m=r(250),C=r.n(m),h=(r(297),{thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],pinky:[0,17,18,19,20]}),p={0:{color:"yellow",size:15},1:{color:"gold",size:6},2:{color:"green",size:10},3:{color:"gold",size:6},4:{color:"gold",size:6},5:{color:"purple",size:10},6:{color:"gold",size:6},7:{color:"gold",size:6},8:{color:"gold",size:6},9:{color:"blue",size:10},10:{color:"gold",size:6},11:{color:"gold",size:6},12:{color:"gold",size:6},13:{color:"red",size:10},14:{color:"gold",size:6},15:{color:"gold",size:6},16:{color:"gold",size:6},17:{color:"orange",size:10},18:{color:"gold",size:6},19:{color:"gold",size:6},20:{color:"gold",size:6}},v=function(e,n){e.length>0&&e.forEach((function(e){for(var r=e.landmarks,t=0;t<Object.keys(h).length;t++)for(var a=Object.keys(h)[t],l=0;l<h[a].length-1;l++){var o=h[a][l],c=h[a][l+1];n.beginPath(),n.moveTo(r[o][0],r[o][1]),n.lineTo(r[c][0],r[c][1]),n.strokeStyle="white",n.lineWidth=4,n.stroke()}for(var i=0;i<r.length;i++){var s=r[i][0],u=r[i][1];n.beginPath(),n.arc(s,u,p[i].size,0,3*Math.PI),n.fillStyle=p[i].color,n.fill()}}))},F=function(e){var n=e.poseDetected,r=Object(t.useState)(!0),l=Object(u.a)(r,2),o=l[0],c=l[1],i=Object(t.useState)(1),s=Object(u.a)(i,2),d=s[0],g=s[1],f=Object(t.useState)(null),m=Object(u.a)(f,2),C=m[0],h=m[1];Object(t.useEffect)((function(){n&&n!==C&&("close"===n?c(!1):"open"===n?c(!0):o&&("one"===n&&d>0?g(d-1):"two"===n&&d<2&&g(d+1)),h(n))}),[n,C,o,d]);var p=function(e){if(!o)return"card card-".concat(e+1," collapsed");var n=e-d,r="";return r=n<0?"position-left":n>0?"position-right":"position-center","card card-".concat(e+1," expanded ").concat(r)};return a.a.createElement("div",{className:"cards-container"},a.a.createElement("div",{className:p(0)},a.a.createElement("div",{className:"card-content"},a.a.createElement("h3",null,"Card 1"),a.a.createElement("p",null,"This is the first card content"))),a.a.createElement("div",{className:p(1)},a.a.createElement("div",{className:"card-content"},a.a.createElement("h3",null,"Card 2"),a.a.createElement("p",null,"This is the second card content"))),a.a.createElement("div",{className:p(2)},a.a.createElement("div",{className:"card-content"},a.a.createElement("h3",null,"Card 3"),a.a.createElement("p",null,"This is the third card content"))))},b=r(17),E=new f.GestureDescription("close"),w=new f.GestureDescription("open"),O=new f.GestureDescription("one"),k=new f.GestureDescription("two");E.addCurl(f.Finger.Thumb,f.FingerCurl.HalfCurl,1),E.addCurl(f.Finger.Thumb,f.FingerCurl.NoCurl,.5);for(var z=0,N=[f.Finger.Index,f.Finger.Middle,f.Finger.Ring,f.Finger.Pinky];z<N.length;z++){var j=N[z];E.addCurl(j,f.FingerCurl.FullCurl,1),E.addCurl(j,f.FingerCurl.HalfCurl,.9)}var y,x=Object(b.a)(f.Finger.all);try{for(x.s();!(y=x.n()).done;){var H=y.value;w.addCurl(H,f.FingerCurl.NoCurl,1)}}catch(S){x.e(S)}finally{x.f()}O.addCurl(f.Finger.Index,f.FingerCurl.NoCurl,1),O.addCurl(f.Finger.Middle,f.FingerCurl.FullCurl,1),O.addCurl(f.Finger.Middle,f.FingerCurl.HalfCurl,.9),O.addCurl(f.Finger.Ring,f.FingerCurl.FullCurl,1),O.addCurl(f.Finger.Ring,f.FingerCurl.HalfCurl,.9),O.addCurl(f.Finger.Pinky,f.FingerCurl.FullCurl,1),O.addCurl(f.Finger.Pinky,f.FingerCurl.HalfCurl,.9),k.addCurl(f.Finger.Index,f.FingerCurl.NoCurl,1),k.addCurl(f.Finger.Middle,f.FingerCurl.NoCurl,1),k.addCurl(f.Finger.Ring,f.FingerCurl.FullCurl,1),k.addCurl(f.Finger.Ring,f.FingerCurl.HalfCurl,.9),k.addCurl(f.Finger.Pinky,f.FingerCurl.FullCurl,1),k.addCurl(f.Finger.Pinky,f.FingerCurl.HalfCurl,.9);r(179);d.a("webgl").then((function(){console.log("WebGL backend initialized successfully")})).catch((function(e){console.error("Failed to initialize WebGL backend:",e),d.a("cpu").then((function(){console.log("Fallback to CPU backend successful")}))}));var P=function(){var e=Object(t.useRef)(null),n=Object(t.useRef)(null),r=Object(t.useState)(null),l=Object(u.a)(r,2),o=l[0],c=l[1],d=Object(t.useState)(null),m=Object(u.a)(d,2),h=m[0],p=m[1],b=Object(t.useState)(!1),z=Object(u.a)(b,2),N=z[0],j=z[1],y=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a();case 2:n=e.sent,console.log("Handpose model loaded."),p(!0),setTimeout((function(){j(!0)}),500),setInterval((function(){x(n)}),10);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var r=Object(s.a)(i.a.mark((function r(t){var a,l,o,s,u,d,g,m,C,h,p;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){r.next=20;break}return a=e.current.video,l=e.current.video.videoWidth,o=e.current.video.videoHeight,e.current.video.width=l,e.current.video.height=o,n.current.width=l,n.current.height=o,r.next=10,t.estimateHands(a);case 10:if(s=r.sent,u=[E,w,k,O],!(s.length>0)){r.next=18;break}return d=new f.GestureEstimator(u),r.next=16,d.estimate(s[0].landmarks,4);case 16:void 0!==(g=r.sent).gestures&&g.gestures.length>0&&(m=g.gestures.map((function(e){return e.confidence})),C=m.indexOf(Math.max.apply(null,m)),h=g.gestures[C].name,c(h));case 18:p=n.current.getContext("2d"),v(s,p);case 20:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(t.useEffect)((function(){y()}),[]),Object(t.useEffect)((function(){o&&console.log("Pose detected: ".concat(o))}),[o]),a.a.createElement("div",{className:"App"},h?a.a.createElement("div",{className:"app-content ".concat(N?"visible":"")},a.a.createElement("div",{className:"instructions-banner"},a.a.createElement("p",null,"Open to open, Close to close, One for left, Two for right")),a.a.createElement(F,{poseDetected:null===o||void 0===o?void 0:o.toLowerCase()}),a.a.createElement(C.a,{ref:e,className:"webcam mirrored"}),a.a.createElement("header",{className:"App-header"},a.a.createElement("canvas",{ref:n,className:"canvas mirrored"}),a.a.createElement("div",{className:"pose-text"},o?a.a.createElement("p",null,o," is detected!"):a.a.createElement("p",null,"No pose detected!")))):a.a.createElement("div",{className:"loading-screen"},a.a.createElement("div",{className:"loading-content"},a.a.createElement("div",{className:"loading-spinner"}),a.a.createElement("p",null,"Model is warming up... (est. 30s)"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.d41aa45f.chunk.js.map